!function e(t,r,i){function a(s,n){if(!r[s]){if(!t[s]){var p="function"==typeof require&&require;if(!n&&p)return p(s,!0);if(o)return o(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var l=r[s]={exports:{}};t[s][0].call(l.exports,function(e){var r=t[s][1][e];return a(r||e)},l,l.exports,e,t,r,i)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(e,t,r){!function(){"use strict";function e(t){if(null===t||"object"!=typeof t)return t;var r=t.constructor();for(var i in t)t.hasOwnProperty(i)&&(r[i]=e(t[i]));return r}function r(e){if("string"!=typeof e)return{};var t,r={},i=(e=e.split("+").join(" ")).match(/(?:[\?](?:[^=]+)=(?:[^&#]*)(?:[&](?:[^=]+)=(?:[^&#]*))*(?:[#].*)?)|(?:[#].*)/);if(null===i)return{};t=i[0].substr(1).split(/[&#=]/);for(var a=0;a<t.length;a+=2)r[decodeURIComponent(t[a])]=decodeURIComponent(t[a+1]||"");return r}function i(e){if("object"!=typeof e)return"";e.params=e.params||{};var t="",r=0,i=Object.keys(e.params);if(0===i.length)return"";for(i.sort(),e.hasParams||(t+="?"+i[0]+"="+e.params[i[0]],r+=1);r<i.length;r+=1)t+="&"+i[r]+"="+e.params[i[r]];return t}function a(e){var t,r=0,i={s:1,m:60,h:3600,d:86400,w:604800};if(!e.match(/^(\d+[smhdw]?)+$/))return 0;t=(e=e.replace(/([smhdw])/g," $1 ").trim()).split(" ");for(var a=0;a<t.length;a+=2)r+=parseInt(t[a],10)*i[t[a+1]||"s"];return r}function o(){this.plugins={}}function s(){this.provider="canalplus",this.defaultFormat="embed",this.formats={embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video"}}function n(){this.provider="coub",this.defaultFormat="long",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video"}}function p(){this.provider="dailymotion",this.alternatives=["dai"],this.defaultFormat="long",this.formats={short:this.createShortUrl,long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video"}}function d(){this.provider="twitch",this.defaultFormat="long",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video",STREAM:"stream",CLIP:"clip"}}function l(){this.provider="vimeo",this.alternatives=["vimeopro"],this.defaultFormat="long",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video"}}function u(){this.provider="youtube",this.alternatives=["youtu","ytimg"],this.defaultFormat="long",this.formats={short:this.createShortUrl,long:this.createLongUrl,embed:this.createEmbedUrl,shortImage:this.createShortImageUrl,longImage:this.createLongImageUrl},this.imageQualities={0:"0",1:"1",2:"2",3:"3",DEFAULT:"default",HQDEFAULT:"hqdefault",SDDEFAULT:"sddefault",MQDEFAULT:"mqdefault",MAXRESDEFAULT:"maxresdefault"},this.defaultImageQuality=this.imageQualities.HQDEFAULT,this.mediaTypes={VIDEO:"video",PLAYLIST:"playlist",SHARE:"share"}}function m(){this.provider="youku",this.defaultFormat="long",this.formats={embed:this.createEmbedUrl,long:this.createLongUrl,flash:this.createFlashUrl,static:this.createStaticUrl},this.mediaTypes={VIDEO:"video"}}o.prototype.parseProvider=function(e){var t=e.match(/(?:(?:https?:)?\/\/)?(?:[^\.]+\.)?(\w+)\./i);return t?t[1]:void 0},o.prototype.removeEmptyParameters=function(e){return e.params&&0===Object.keys(e.params).length&&delete e.params,e},o.prototype.parse=function(e){var t,i=this,a=i.parseProvider(e),o=i.plugins[a];if(a&&o&&o.parse)return(t=o.parse.apply(o,[e,r(e)]))&&((t=i.removeEmptyParameters(t)).provider=o.provider),t},o.prototype.bind=function(e){if(this.plugins[e.provider]=e,e.alternatives)for(var t=0;t<e.alternatives.length;t+=1)this.plugins[e.alternatives[t]]=e},o.prototype.create=function(t){var r=t.videoInfo,i=t.params,a=this.plugins[r.provider];if(i="internal"===i?r.params:i||{},a&&(t.format=t.format||a.defaultFormat,a.formats.hasOwnProperty(t.format)))return a.formats[t.format].apply(a,[r,e(i)])};var c=new o;s.prototype.parseParameters=function(e){return delete e.vid,e},s.prototype.parse=function(e,t){var r=this,i={mediaType:this.mediaTypes.VIDEO,id:t.vid};if(i.params=r.parseParameters(t),i.id)return i},s.prototype.createEmbedUrl=function(e,t){var r="http://player.canalplus.fr/embed/";return t.vid=e.id,r+=i({params:t})},c.bind(new s),n.prototype.parseUrl=function(e){var t=e.match(/(?:embed|view)\/([a-zA-Z\d]+)/i);return t?t[1]:void 0},n.prototype.parse=function(e,t){var r={mediaType:this.mediaTypes.VIDEO,params:t,id:this.parseUrl(e)};if(r.id)return r},n.prototype.createUrl=function(e,t,r){var a=e+t.id;return a+=i({params:r})},n.prototype.createLongUrl=function(e,t){return this.createUrl("https://coub.com/view/",e,t)},n.prototype.createEmbedUrl=function(e,t){return this.createUrl("//coub.com/embed/",e,t)},c.bind(new n),p.prototype.parseParameters=function(e){return this.parseTime(e)},p.prototype.parseTime=function(e){return e.start&&(e.start=a(e.start)),e},p.prototype.parseUrl=function(e){var t=e.match(/(?:\/video|ly)\/([A-Za-z0-9]+)/i);return t?t[1]:void 0},p.prototype.parse=function(e,t){var r=this,i={mediaType:this.mediaTypes.VIDEO,params:r.parseParameters(t),id:r.parseUrl(e)};return i.id?i:void 0},p.prototype.createUrl=function(e,t,r){return e+t.id+i({params:r})},p.prototype.createShortUrl=function(e){return this.createUrl("https://dai.ly/",e,{})},p.prototype.createLongUrl=function(e,t){return this.createUrl("https://dailymotion.com/video/",e,t)},p.prototype.createEmbedUrl=function(e,t){return this.createUrl("//www.dailymotion.com/embed/video/",e,t)},c.bind(new p),d.prototype.seperateId=function(e){return{pre:e[0],id:e.substr(1)}},d.prototype.parseChannel=function(e,t){var r=t.channel||t.utm_content||e.channel;return delete t.utm_content,delete t.channel,r},d.prototype.parseUrl=function(e,t,r){var i;return(i=e.match(/(clips\.)?twitch\.tv\/(?:(?:videos\/(\d+))|(\w+))?/i))&&i[2]?t.id="v"+i[2]:r.video?(t.id=r.video,delete r.video):r.clip?(t.id=r.clip,t.isClip=!0,delete r.clip):i&&i[1]&&i[3]?(t.id=i[3],t.isClip=!0):i&&i[3]&&(t.channel=i[3]),t},d.prototype.parseMediaType=function(e){var t;return e.channel?t=this.mediaTypes.STREAM:e.id&&(e.isClip?(t=this.mediaTypes.CLIP,delete e.isClip):t=this.mediaTypes.VIDEO,delete e.channel),t},d.prototype.parseParameters=function(e){return e.t&&(e.start=a(e.t),delete e.t),e},d.prototype.parse=function(e,t){var r=this,i={};return i=r.parseUrl(e,i,t),i.channel=r.parseChannel(i,t),i.mediaType=r.parseMediaType(i),i.params=r.parseParameters(t),i.channel||i.id?i:void 0},d.prototype.createLongUrl=function(e,t){var r="";return e.mediaType===this.mediaTypes.STREAM?r="https://twitch.tv/"+e.channel:e.mediaType===this.mediaTypes.VIDEO?(r="https://twitch.tv/videos/"+this.seperateId(e.id).id,t.start&&(t.t=t.start+"s",delete t.start)):e.mediaType===this.mediaTypes.CLIP&&(r="https://clips.twitch.tv/"+e.id),r+=i({params:t})},d.prototype.createEmbedUrl=function(e,t){var r="https://player.twitch.tv/";return e.mediaType===this.mediaTypes.STREAM?t.channel=e.channel:e.mediaType===this.mediaTypes.VIDEO?(t.video=e.id,t.start&&(t.t=t.start+"s",delete t.start)):e.mediaType===this.mediaTypes.CLIP&&(r="https://clips.twitch.tv/embed",t.clip=e.id),r+=i({params:t})},c.bind(new d),l.prototype.parseUrl=function(e){var t=e.match(/(?:\/(?:channels\/[\w]+|(?:(?:album\/\d+|groups\/[\w]+)\/)?videos?))?\/(\d+)/i);return t?t[1]:void 0},l.prototype.parseParameters=function(e){return this.parseTime(e)},l.prototype.parseTime=function(e){return e.t&&(e.start=a(e.t),delete e.t),e},l.prototype.parse=function(e,t){var r={mediaType:this.mediaTypes.VIDEO,params:this.parseParameters(t),id:this.parseUrl(e)};return r.id?r:void 0},l.prototype.createUrl=function(e,t,r){var a=e+t.id,o=r.start;return delete r.start,a+=i({params:r}),o&&(a+="#t="+o),a},l.prototype.createLongUrl=function(e,t){return this.createUrl("https://vimeo.com/",e,t)},l.prototype.createEmbedUrl=function(e,t){return this.createUrl("//player.vimeo.com/video/",e,t)},c.bind(new l),u.prototype.parseUrl=function(e){var t=e.match(/(?:(?:v|vi|be|videos|embed)\/(?!videoseries)|(?:v|ci)=)([\w\-]{11})/i);return t?t[1]:void 0},u.prototype.parseParameters=function(e,t){return(e.start||e.t)&&(e.start=a(e.start||e.t),delete e.t),e.v===t.id&&delete e.v,e.list===t.id&&delete e.list,e},u.prototype.parseMediaType=function(e){if(e.params.list&&(e.list=e.params.list,delete e.params.list),e.id&&!e.params.ci)e.mediaType=this.mediaTypes.VIDEO;else if(e.list)delete e.id,e.mediaType=this.mediaTypes.PLAYLIST;else{if(!e.params.ci)return;delete e.params.ci,e.mediaType=this.mediaTypes.SHARE}return e},u.prototype.parse=function(e,t){var r=this,i={params:t,id:r.parseUrl(e)};return i.params=r.parseParameters(t,i),i=r.parseMediaType(i)},u.prototype.createShortUrl=function(e,t){var r="https://youtu.be/"+e.id;return t.start&&(r+="#t="+t.start),r},u.prototype.createLongUrl=function(e,t){var r="",a=t.start;return delete t.start,e.mediaType===this.mediaTypes.PLAYLIST?(t.feature="share",r+="https://youtube.com/playlist"):e.mediaType===this.mediaTypes.VIDEO?(t.v=e.id,r+="https://youtube.com/watch"):e.mediaType===this.mediaTypes.SHARE&&(t.ci=e.id,r+="https://www.youtube.com/shared"),e.list&&(t.list=e.list),r+=i({params:t}),e.mediaType!==this.mediaTypes.PLAYLIST&&a&&(r+="#t="+a),r},u.prototype.createEmbedUrl=function(e,t){var r="//youtube.com/embed";return e.mediaType===this.mediaTypes.PLAYLIST?t.listType="playlist":(r+="/"+e.id,"1"===t.loop&&(t.playlist=e.id)),e.list&&(t.list=e.list),r+=i({params:t})},u.prototype.createImageUrl=function(e,t,r){return e+t.id+"/"+(r.imageQuality||this.defaultImageQuality)+".jpg"},u.prototype.createShortImageUrl=function(e,t){return this.createImageUrl("https://i.ytimg.com/vi/",e,t)},u.prototype.createLongImageUrl=function(e,t){return this.createImageUrl("https://img.youtube.com/vi/",e,t)},c.bind(new u),m.prototype.parseUrl=function(e){var t=e.match(/(?:(?:embed|sid)\/|v_show\/id_|VideoIDS=)([a-zA-Z0-9]+)/);return t?t[1]:void 0},m.prototype.parseParameters=function(e){return e.VideoIDS&&delete e.VideoIDS,e},m.prototype.parse=function(e,t){var r=this,i={mediaType:this.mediaTypes.VIDEO,id:r.parseUrl(e),params:r.parseParameters(t)};if(i.id)return i},m.prototype.createUrl=function(e,t,r){var a=e+t.id;return a+=i({params:r})},m.prototype.createEmbedUrl=function(e,t){return this.createUrl("http://player.youku.com/embed/",e,t)},m.prototype.createLongUrl=function(e,t){return this.createUrl("http://v.youku.com/v_show/id_",e,t)},m.prototype.createStaticUrl=function(e,t){return this.createUrl("http://static.youku.com/v1.0.0638/v/swf/loader.swf?VideoIDS=",e,t)},m.prototype.createFlashUrl=function(e,t){var r="http://player.youku.com/player.php/sid/"+e.id+"/v.swf";return r+=i({params:t})},c.bind(new m),"undefined"!=typeof window&&(window.urlParser=c),void 0!==t&&void 0!==t.exports&&(t.exports=c)}()},{}],2:[function(e,t,r){"use strict";var i=e("js-video-url-parser"),a=50;window.mastoSearch=function(e,t,r,o,s,n){function p(){$.ajax(l?m+"&max_id="+l:m).done(function(e){if(e.forEach(function(e){u.length>=a||(d>=o&&$(e.content).find("a").each(function(e,t){var r=$(t).attr("href"),o=i.parse(r);o&&"youtube"==o.provider&&o.id&&u.length<a&&u.push(o.id)}),l=e.id)}),u.length>=a||++d>=o+r||!e.length){var t="http://www.youtube.com/watch_videos?video_ids="+u.join(",");s(t)}else p()}).fail(n)}o=Math.min(o,25),r=Math.min(r,25);var d=0,l=void 0,u=[],m="https://"+e+"/api/v1/timelines/tag/"+t+"?limit=40";p()}},{"js-video-url-parser":1}]},{},[2]);